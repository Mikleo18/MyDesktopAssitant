<UserControl x:Class="MyDeskopAssitant.Views.Music"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:MyDeskopAssitant.Views"
             mc:Ignorable="d" 
             d:DesignHeight="500" d:DesignWidth="800">

    <Grid Background="{DynamicResource PrimaryBackgroundColor}">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="Auto"/>
        </Grid.ColumnDefinitions>

        <StackPanel Grid.Column="0" 
                    Orientation="Vertical" 
                    VerticalAlignment="Center" 
                    HorizontalAlignment="Center" 
                    Margin="0, 50, 0, 0">

            <Border CornerRadius="8" Width="220" Height="220" Padding="5" Background="{DynamicResource PrimaryBackgroundColor}" >
                <Image x:Name="AlbumArtImage" 
                       Stretch="UniformToFill" 
                       Source="{Binding CurrentSong.AlbumArt, FallbackValue='/Resources/pp31.jpg', TargetNullValue='/Resources/pp31.jpg'}"/>
            </Border>

            <StackPanel Orientation="Vertical" Margin="0, 15, 0, 10" Width="220">
                <Label x:Name="SongName" 
                       Content="{Binding SongTitle}" 
                       FontSize="16" 
                       FontWeight="Bold" 
                       HorizontalAlignment="Center"/>
                <Label x:Name="ComposerName" 
                       Content="{Binding ComposerName}" 
                       FontSize="12" 
                       Foreground="#777777" 
                       HorizontalAlignment="Center"/>
            </StackPanel>

            <Grid Width="280">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <Label x:Name="CurrentTimeLabel" Content="{Binding CurrentTimeDisplay}" FontSize="12" Grid.Column="0"/>

                <Slider Grid.Column="1"
                        Minimum="0" 
                        Maximum="{Binding TotalSeconds, Mode=OneWay}" 
                        Value="{Binding CurrentSeconds, Mode=OneWay}"
                        VerticalAlignment="Center"
                        Style="{DynamicResource Horizontal_Slider}"
                        PreviewMouseLeftButtonUp="slider_PreviewMouseLeftButtonUp"/>

                <Label x:Name="DurationLabel" Content="{Binding CurrentSong.Duration}" FontSize="12" Grid.Column="2"/>
            </Grid>

            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0, 20, 0, 0" >

                <Button x:Name="btnPreviousSong" Command="{Binding PreviousSongCommand}" 
                        Width="40" Height="40" Margin="5" Style="{StaticResource MusicControlButton}">
                    <Path Data="{StaticResource icon_prev}" 
                          Fill="{DynamicResource PrimaryTextColor}" Stretch="Uniform" Height="14" Width="14"/>
                </Button>

                <Button x:Name="btn10B" Command="{Binding RewindCommand}"
                        Width="40" Height="40" Margin="5" Style="{StaticResource MusicControlButton}">
                    <Path Data="{StaticResource icon_rewind}" 
                          Fill="{DynamicResource PrimaryTextColor}" Stretch="Uniform" Height="16" Width="16"/>
                </Button>

                <Button x:Name="btnPlayPause" Command="{Binding PlayPauseCommand}" 
                        Width="50" Height="50" Margin="5" Style="{StaticResource MusicControlButton}">
                    <Path Fill="{DynamicResource PrimaryTextColor}" Stretch="Uniform" Height="20" Width="20" 
                          VerticalAlignment="Center" HorizontalAlignment="Center">
                        <Path.Style>
                            <Style TargetType="Path">
                                <Setter Property="Data" Value="{StaticResource icon_play}" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsPlaying}" Value="True">
                                        <Setter Property="Data" Value="{StaticResource icon_pause}" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Path.Style>
                    </Path>
                </Button>

                <Button x:Name="btn10F" Command="{Binding ForwardCommand}"
                        Width="40" Height="40" Margin="5" Style="{StaticResource MusicControlButton}">
                    <Path Data="{StaticResource icon_forward}" 
                          Fill="{DynamicResource PrimaryTextColor}" Stretch="Uniform" Height="16" Width="16"/>
                </Button>

                <Button x:Name="btnNextSong" Command="{Binding NextSongCommand}" 
                        Width="40" Height="40" Margin="5" Style="{StaticResource MusicControlButton}">
                    <Path Data="{StaticResource icon_next}" 
                          Fill="{DynamicResource PrimaryTextColor}" Stretch="Uniform" Height="14" Width="14"/>
                </Button>

            </StackPanel>
        </StackPanel>

        <StackPanel Orientation="Vertical" 
                    VerticalAlignment="Center" 
                    HorizontalAlignment="Right" 
                    Grid.Column="1" 
                    Margin="0, 50, 20, 0">

            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,10">

                <Button x:Name="btnRemoveSong" Command="{Binding RemoveSongCommand}" 
                        Width="30" Height="30" Margin="5" Style="{StaticResource MusicControlButton}">
                    <Path Data="{StaticResource icon_trash}" 
                          Fill="{DynamicResource PrimaryTextColor}" Stretch="Uniform" Height="14" Width="14"/>
                </Button>

                <Button x:Name="btnLoop" Command="{Binding LoopCommand}"
                        Width="30" Height="30" Margin="5" Style="{StaticResource MusicControlButton}">
                    <Path Data="{StaticResource icon_repeat}" Stretch="Uniform" Height="14" Width="14">
                        <Path.Style>
                            <Style TargetType="Path">
                                <Setter Property="Fill" Value="{DynamicResource PrimaryTextColor}"/>
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsLooping}" Value="True">
                                        <Setter Property="Fill" Value="#00FF00"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Path.Style>
                    </Path>
                </Button>

                <Button x:Name="btnMix" Command="{Binding MixCommand}" 
                        Width="30" Height="30" Margin="5" Style="{StaticResource MusicControlButton}">
                    <Path Data="{StaticResource icon_shuffle}" 
                          Fill="{DynamicResource PrimaryTextColor}" Stretch="Uniform" Height="14" Width="14"/>
                </Button>

                <Button x:Name="btnAdd" Command="{Binding AddSongCommand}" 
                        Width="30" Height="30" Margin="5" Style="{StaticResource MusicControlButton}">
                    <Path Data="{StaticResource icon_add}" 
                          Fill="{DynamicResource PrimaryTextColor}" Stretch="Uniform" Height="14" Width="14"/>
                </Button>

            </StackPanel>

            <ListView x:Name="ListView1"
                      ItemsSource="{Binding Songs}" 
                      SelectedItem="{Binding CurrentSong}"
                      Width="300" 
                      Height="400" 
                      Background="{DynamicResource SecundaryBackgroundColor}" 
                      BorderThickness="1" 
                      BorderBrush="#DDDDDD"
                      Style="{StaticResource ModernGridViewListViewStyle}" 
                      ItemContainerStyle="{StaticResource GridViewRowStyle}"
                      Foreground="{DynamicResource PrimaryBlueColor}">
                <ListView.View>
                    <GridView ColumnHeaderContainerStyle="{StaticResource GridViewHeaderStyle}">
                        <GridViewColumn Header="#" Width="30" DisplayMemberBinding="{Binding Id}"/>

                        <GridViewColumn Header="Şarkı Adı" Width="180" DisplayMemberBinding="{Binding Name}"/>

                        <GridViewColumn Header="Süre" Width="60" DisplayMemberBinding="{Binding Duration}"/>
                    </GridView>
                </ListView.View>
            </ListView>
        </StackPanel>
    </Grid>
</UserControl>